<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Host Group &mdash; perfSONAR Toolkit 3.5.1-0.a1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/perfsonar.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.5.1-0.a1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="perfSONAR Toolkit 3.5.1-0.a1 documentation" href="index.html" /> 
  </head>
  <body>
    <header>
        <div class="headerContents">
          <a href="index.html" border="0"><img src="_static/perfSONAR-header.gif"></a>
          <div class="acctSearchContainer">
              <section id="searchBox" class="searchBox">
                  <!--Use of this code assumes agreement with the Google Custom Search Terms of Service. -->
                  <!--The terms of service are available at http://www.google.com/cse/docs/tos.html -->
                  <form action="search.html" id="cse-search-box" method="get">
                    <input type="text" name="q" size="25" class="searchInput" placeholder="Search"/>
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                  </form>
              </section>
         </div>
        </div>
    </header>
    <div style="display:block;clear:both;">
    
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="index.html">perfSONAR Toolkit 3.5.1-0.a1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="host-group">
<h1>Host Group<a class="headerlink" href="#host-group" title="Permalink to this headline">¶</a></h1>
<img alt="_images/hostgroups.png" src="_images/hostgroups.png" />
<p>To define a meshconfig, you will need 2 basic ingredients. Hostgroups, and Test specs.  Host group is a logical grouping of toolkit instances, and you can reuse a single host group for multile meshconfigs.</p>
<p>Click button &#8220;Add New ...&#8221; button to open a new host group dialog.</p>
<img alt="_images/hostgroup.png" src="_images/hostgroup.png" />
<ul>
<li><p class="first">Name: Name of the hostgroup</p>
</li>
<li><p class="first">Service Type: You need to pick a service type for this hostgroup.</p>
</li>
<li><p class="first">Admins: List of users who are <em>admin</em> of this hostgroup. Only admins can edit the hosts.</p>
</li>
<li><dl class="first docutils">
<dt>Hosts/Static</dt>
<dd><p class="first last">Enter a hostname / service name to search from all available hosts that are currently cached from your service datasources. You can only select from hosts that provides the service that you have selected above.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Hosts/Dynamic</dt>
<dd><p class="first last">Dynamic hostgroup allows you to construct a hostgroup that automatically updated based on your custom criteria and current list of hosts registered in your datasource. Please see below for more detail.</p>
</dd>
</dl>
</li>
</ul>
<p>You can use host groups created by other users, but you can only edit ones with your name listed under Admins.</p>
<p>You can click on a small pencil button <img alt="editbutton" src="_images/editbutton.png" /> to edit an existing host group.</p>
<div class="section" id="dynamic-host-groups">
<h2>Dynamic Host Groups<a class="headerlink" href="#dynamic-host-groups" title="Permalink to this headline">¶</a></h2>
<p>Dynamic Host Group allows you to enter host selection criteria to be evaluated at runtime. This is useful if you want to construct a host group that changes its member based on the latest information from the global registry.</p>
<img alt="_images/dynamichosteditor.png" src="_images/dynamichosteditor.png" />
<p>As you can see, dynamic Host Group editor will show a <em>current</em> list of hosts that matches the criteria - which may change over time.</p>
<div class="section" id="available-attributes-inside-the-criteria-editor">
<h3>Available Attributes inside the criteria editor<a class="headerlink" href="#available-attributes-inside-the-criteria-editor" title="Permalink to this headline">¶</a></h3>
<p>Inside the criteria editor, you can access host object as well as service object. You can construct an arbitrary complex criteria in Javascript using this object.</p>
<p><em>service</em> object has following attributes</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;location&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;longitude&quot;</span><span class="o">:</span> <span class="s2">&quot;9.9356&quot;</span><span class="p">,</span>
        <span class="s2">&quot;latitude&quot;</span><span class="o">:</span> <span class="s2">&quot;51.5339&quot;</span><span class="p">,</span>
        <span class="s2">&quot;city&quot;</span><span class="o">:</span> <span class="s2">&quot;Goettingen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="s2">&quot;Niedersachsen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;postal_code&quot;</span><span class="o">:</span> <span class="s2">&quot;37077&quot;</span><span class="p">,</span>
        <span class="s2">&quot;country&quot;</span><span class="o">:</span> <span class="s2">&quot;DE&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;admins&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;lookup/person/b600b85a-f344-4f48-b8c8-4ea3016283d6&quot;</span><span class="p">],</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="mi">13</span><span class="p">,</span>
    <span class="s2">&quot;uuid&quot;</span><span class="o">:</span> <span class="s2">&quot;7584634b-0434-4b1d-8d28-23e2cb065f7a.bwctl&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;GoeGrid bwctl&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;bwctl&quot;</span><span class="p">,</span>
    <span class="s2">&quot;locator&quot;</span><span class="o">:</span> <span class="s2">&quot;tcp://perfsonar01.goegrid.gwdg.de:4823&quot;</span><span class="p">,</span>
    <span class="s2">&quot;lsid&quot;</span><span class="o">:</span> <span class="s2">&quot;wlcg&quot;</span><span class="p">,</span>
    <span class="s2">&quot;client_uuid&quot;</span><span class="o">:</span> <span class="s2">&quot;7584634b-0434-4b1d-8d28-23e2cb065f7a&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sitename&quot;</span><span class="o">:</span> <span class="s2">&quot;GoeGrid&quot;</span><span class="p">,</span>
    <span class="s2">&quot;createdAt&quot;</span><span class="o">:</span> <span class="s2">&quot;2016-01-23T03:18:28.253Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;updatedAt&quot;</span><span class="o">:</span> <span class="s2">&quot;2016-01-26T19:14:54.934Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ma&quot;</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p><em>host</em> object has following attributes, although <em>host</em> objects are sparsely populated. Please see the Hosts tab for list of all information available.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;info&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;hardware_processorcount&quot;</span><span class="o">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hardware_processorspeed&quot;</span><span class="o">:</span> <span class="s2">&quot;2666.674 MHz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;os_version&quot;</span><span class="o">:</span> <span class="s2">&quot;Scientific Linux 6.6 (Carbon)&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hardware_memory&quot;</span><span class="o">:</span> <span class="s2">&quot;8192 MB&quot;</span><span class="p">,</span>
        <span class="s2">&quot;toolkitversion&quot;</span><span class="o">:</span> <span class="s2">&quot;3.5.0.6-1.pSPS&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;communities&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;ATLAS&quot;</span><span class="p">,</span> <span class="s2">&quot;GridKa&quot;</span><span class="p">,</span> <span class="s2">&quot;WLCG&quot;</span><span class="p">],</span>
    <span class="s2">&quot;admins&quot;</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="s2">&quot;hostname&quot;</span><span class="o">:</span> <span class="s2">&quot;se4.goegrid.gwdg.de&quot;</span><span class="p">,</span>
    <span class="s2">&quot;toolkit_url&quot;</span><span class="o">:</span> <span class="s2">&quot;auto&quot;</span><span class="p">,</span>
    <span class="s2">&quot;no_agent&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;134.76.97.128&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="sample-criterias">
<h3>Sample Criterias<a class="headerlink" href="#sample-criterias" title="Permalink to this headline">¶</a></h3>
<p><strong>Select all hosts from ALGT2 site</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="k">if</span><span class="p">(</span><span class="nx">service</span><span class="p">.</span><span class="nx">sitename</span> <span class="o">==</span> <span class="s2">&quot;AGLT2&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</pre></div>
</div>
<p><strong>Select all hosts from US or Canada</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="k">if</span><span class="p">(</span><span class="nx">service</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">country</span> <span class="o">==</span> <span class="s2">&quot;US&quot;</span> <span class="o">||</span> <span class="nx">service</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">country</span> <span class="o">==</span> <span class="s2">&quot;CA&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</pre></div>
</div>
<p><strong>Select all hosts from wlcg datasource</strong></p>
<p>&#8220;wlcg&#8221; is from the datasource id that you have defined in the datasource.js</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="k">if</span><span class="p">(</span><span class="nx">service</span><span class="p">.</span><span class="nx">lsid</span> <span class="o">==</span> <span class="s2">&quot;wlcg&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</pre></div>
</div>
<p><strong>Select all hosts with hostname containing &#8220;cern.ch&#8221;</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="k">if</span><span class="p">(</span><span class="o">~</span><span class="nx">host</span><span class="p">.</span><span class="nx">hostname</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;cern.ch&quot;</span><span class="p">))</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Not all hosts has hostname parameter. If you try to access an attribute that does not exist for a particular service, the criteria will throw an exception, and it will not return in the final result.</p>
</div>
<p><strong>Select all hosts with toolkit version that starts with &#8220;3.5&#8221;</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="k">if</span><span class="p">(</span><span class="o">~</span><span class="nx">host</span><span class="p">.</span><span class="nx">info</span><span class="p">.</span><span class="nx">toolkitversion</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;3.5&quot;</span><span class="p">)</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</pre></div>
</div>
<p><strong>Select all hosts</strong></p>
<p>Simply returning true will select <em>all</em> hosts (that provides specified service type from all datasources)</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</pre></div>
</div>
<p><strong>Select all hosts with more than 2GB of memory</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">memory</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">host</span><span class="p">.</span><span class="nx">info</span><span class="p">.</span><span class="nx">hardware_memory</span><span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="nx">memory</span> <span class="o">&gt;</span> <span class="mi">2000</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="converting-from-dynamic-host-group-to-static-host-group">
<h3>Converting from Dynamic Host Group to Static Host Group<a class="headerlink" href="#converting-from-dynamic-host-group-to-static-host-group" title="Permalink to this headline">¶</a></h3>
<p>If you&#8217;d like to <em>freeze</em> the current search result produced by the dynamic hostgroup, you can simply click <em>Static</em> tab and it will copy the current criteria results to static list.</p>
<p>Please see <a class="reference internal" href="mca_userguide_testspec.html"><em>Test Spec</em></a> next.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <nav id="channelNav" class="channelNav">
                
                <ul>
<li><a class="reference internal" href="#">Host Group</a><ul>
<li><a class="reference internal" href="#dynamic-host-groups">Dynamic Host Groups</a><ul>
<li><a class="reference internal" href="#available-attributes-inside-the-criteria-editor">Available Attributes inside the criteria editor</a></li>
<li><a class="reference internal" href="#sample-criterias">Sample Criterias</a></li>
<li><a class="reference internal" href="#converting-from-dynamic-host-group-to-static-host-group">Converting from Dynamic Host Group to Static Host Group</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                
                
            </nav>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="index.html">perfSONAR Toolkit 3.5.1-0.a1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <footer id="fat">
        <div class="footerContents">
            <nav id="fatFooterNav" class="fatFooterNav">
                <ul id="menu-partners" class="menu depth-0">
                    <li id="footer-partner-text" class="partner-menu">
                        perfSONAR 
                        <br>
                        partners 
                        <br>
                        include: 
                    </li>
    
                <li id="footer-partner-esnet" class="partner-menu">
                    <a href="http://www.es.net/" title="Visit DOE's Energy Sciences Network"><img src="_static/ESnet-ps.png" alt="" style="border:none;"></a> </li>
                
                <li id="footer-partner-geant" class="partner-menu">
                    <a href="http://www.geant.org/" title="Visit GEANT"><img src="_static/geant-ps.png" alt="" style="border:none;"/></a> </li>
        
                <li id="footer-partner-iu" class="partner-menu">
                    <a href="http://www.iu.edu/" title="Visit Indiana University"><img src="_static/IU-ps.png" alt="" style="border:none;"></a> </li>

                <li id="footer-partner-i2" class="partner-menu">
                    <a href="http://www.internet2.edu/" title="Visit Internet2"><img src="_static/I2-ps.png" alt="" style="border:none;"></a> </li>
    
                </ul>

             
            </nav>
            <nav id="minFooterNav" class="minFooterNav">
                <span class="copyright">PERFormance Service Oriented Network monitoring ARchitecture </span>
            </nav>
          
        </div> <!-- /footerContents -->
    </footer>
    
    <div class="footer">
        &copy; Copyright 2016, perfSONAR Project.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>